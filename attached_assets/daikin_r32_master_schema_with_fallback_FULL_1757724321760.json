{
  "version": "2025-09-12",
  "title": "Daikin R-32 Packaged Units \u2014 Master Schema (All Series + 8.5T + Nearest-Match Fallback)",
  "brand": "Daikin",
  "refrigerant": "R-32",
  "compose_rule": "Concatenate positions p1..p24 (no spaces). p1..p14 are core; p15..p24 are options.",
  "positions": {
    "p1": {
      "name": "Brand",
      "codes": {
        "D": "Daikin"
      }
    },
    "p2": {
      "name": "Configuration Tier",
      "codes": {
        "S": "Standard Efficiency",
        "H": "High Efficiency"
      }
    },
    "p3": {
      "name": "Application",
      "codes": {
        "C": "Straight A/C",
        "G": "Gas/Electric",
        "H": "Heat Pump"
      }
    },
    "p4_p6": {
      "name": "Nominal Cooling Capacity (tons)",
      "codes": {
        "036": 3.0,
        "048": 4.0,
        "060": 5.0,
        "072": 6.0,
        "090": 7.5,
        "102": 8.5,
        "120": 10.0,
        "150": 12.5,
        "180": 15.0,
        "240": 20.0,
        "300": 25.0
      }
    },
    "p7": {
      "name": "Voltage/Phase",
      "codes": {
        "1": "208/230V 1\u03c6 60Hz",
        "3": "208/230V 3\u03c6 60Hz",
        "4": "460V 3\u03c6 60Hz",
        "7": "575V 3\u03c6 60Hz"
      }
    },
    "p8": {
      "name": "Supply Fan / Drive",
      "codes": {
        "D": "Direct Drive - Standard Static",
        "L": "Direct Drive - Medium Static",
        "W": "Direct Drive - High Static"
      }
    },
    "p9_p11": {
      "name": "Heat Field (Gas BTU for G, Electric Heat for C/H)",
      "logic": "If p3='G' use gas_btu_codes; if p3 in {'C','H'} use electric_heat_codes (or 'XXX' = no electric heat).",
      "gas_btu_codes": {
        "045": 45000,
        "060": 60000,
        "070": 70000,
        "080": 80000,
        "090": 90000,
        "100": 100000,
        "115": 115000,
        "125": 125000,
        "130": 130000,
        "140": 140000,
        "150": 150000,
        "180": 180000,
        "210": 210000,
        "225": 225000,
        "240": 240000,
        "260": 260000,
        "350": 350000,
        "360": 360000,
        "400": 400000,
        "480": 480000
      },
      "electric_heat_codes": {
        "no_heat": "XXX",
        "kW": {
          "005": "5 kW",
          "010": "10 kW",
          "015": "15 kW",
          "020": "20 kW",
          "030": "30 kW",
          "045": "45 kW",
          "060": "60 kW",
          "075": "75 kW"
        },
        "scr_kW": {
          "S05": "5 kW (SCR)",
          "S10": "10 kW (SCR)",
          "S15": "15 kW (SCR)",
          "S16": "15 kW (SCR)",
          "S18": "18 kW (SCR)",
          "S20": "20 kW (SCR)",
          "S21": "20 kW (SCR)",
          "S22": "20 kW (SCR)",
          "S25": "25 kW (SCR)",
          "S30": "30 kW (SCR)",
          "S31": "30 kW (SCR)",
          "S45": "45 kW (SCR)",
          "S46": "45 kW (SCR)",
          "S60": "60 kW (SCR)",
          "S75": "75 kW (SCR)"
        }
      }
    },
    "p12": {
      "name": "Controls",
      "codes": {
        "A": "Electromechanical",
        "B": "DDC/BACnet (Standard families)",
        "C": "DDC/BACnet (High-efficiency families)"
      }
    },
    "p13": {
      "name": "Refrigeration System",
      "codes": {
        "A": "Single stage",
        "C": "Two stage",
        "F": "Two stage + HGRH + Low Ambient",
        "G": "Single stage + Low Ambient",
        "H": "Two stage + Low Ambient"
      }
    },
    "p14": {
      "name": "Heat Exchanger (Gas Only)",
      "codes": {
        "X": "N/A for non-gas or None",
        "A": "Aluminized Steel",
        "S": "Stainless Steel",
        "U": "Ultra Low NOx"
      }
    },
    "p15_p24": {
      "name": "Options Block (10 characters)",
      "fields": {
        "p15": {
          "label": "Revision Levels (Major/Minor)",
          "codes": "A\u2013Z or X (2 characters)"
        },
        "p16": {
          "label": "ERW / Power Exhaust Connection",
          "codes": {
            "X": "None",
            "B": "Single-point power for Power Exhaust"
          }
        },
        "p17": {
          "label": "IAQ Options",
          "codes": {
            "X": "None"
          }
        },
        "p18": {
          "label": "Service Options",
          "codes": {
            "X": "None",
            "A": "Powered convenience outlet",
            "B": "Non-powered convenience outlet",
            "C": "Hinged panels",
            "D": "Hinged + Powered convenience outlet",
            "E": "Hinged + Non-powered convenience outlet"
          }
        },
        "p19": {
          "label": "Electrical Options",
          "codes": {
            "X": "None",
            "A": "Non-fused disconnect",
            "B": "Phase monitor",
            "C": "Thru-the-base electrical",
            "E": "NFD + Phase monitor",
            "F": "NFD + Thru-the-base",
            "H": "Phase + Thru-the-base",
            "L": "NFD + Phase + Thru-the-base"
          }
        },
        "p20": {
          "label": "Economizer",
          "codes": {
            "X": "None",
            "A": "Downflow + Enthalpy",
            "C": "Internal Horizontal + Enthalpy",
            "E": "Downflow (DDC) + Enthalpy",
            "F": "Horizontal (DDC) + Enthalpy",
            "G": "Downflow + Dry Bulb",
            "J": "Internal Horizontal + Dry Bulb",
            "L": "Downflow + Dry Bulb",
            "M": "Horizontal + Dry Bulb"
          }
        },
        "p21": {
          "label": "Coils / Hail Guard",
          "codes": {
            "X": "None",
            "C": "Hail Guard"
          }
        },
        "p22": {
          "label": "Sensors",
          "codes": {
            "D": "R-32 Sensor",
            "E": "Return Air Smoke",
            "F": "Supply Air Smoke",
            "G": "Return & Supply Air Smoke"
          }
        },
        "p23": {
          "label": "Reserved / Factory",
          "codes": "X unless otherwise specified"
        },
        "p24": {
          "label": "Reserved / Factory",
          "codes": "A\u2013Z"
        }
      }
    }
  },
  "families": {
    "DSC": {
      "series_prefix": "DSC",
      "type": "Straight A/C \u2014 Standard",
      "defaults": {
        "p2": "S",
        "p3": "C"
      },
      "capacity_allowed": [
        "036",
        "048",
        "060",
        "072",
        "090",
        "102",
        "120",
        "150",
        "180",
        "240",
        "300"
      ],
      "controls_allowed": [
        "A",
        "B"
      ]
    },
    "DHC": {
      "series_prefix": "DHC",
      "type": "Straight A/C \u2014 High",
      "defaults": {
        "p2": "H",
        "p3": "C"
      },
      "capacity_allowed": [
        "036",
        "048",
        "060",
        "072",
        "090",
        "102",
        "120",
        "150",
        "180",
        "240",
        "300"
      ],
      "controls_allowed": [
        "A",
        "C"
      ]
    },
    "DSG": {
      "series_prefix": "DSG",
      "type": "Gas/Electric \u2014 Standard",
      "defaults": {
        "p2": "S",
        "p3": "G"
      },
      "capacity_allowed": [
        "036",
        "048",
        "060",
        "072",
        "090",
        "102",
        "120",
        "150",
        "180",
        "240",
        "300"
      ],
      "controls_allowed": [
        "A",
        "B"
      ],
      "requires_gas_btu": true
    },
    "DHG": {
      "series_prefix": "DHG",
      "type": "Gas/Electric \u2014 High",
      "defaults": {
        "p2": "H",
        "p3": "G"
      },
      "capacity_allowed": [
        "036",
        "048",
        "060",
        "072",
        "090",
        "102",
        "120",
        "150",
        "180",
        "240",
        "300"
      ],
      "controls_allowed": [
        "A",
        "C"
      ],
      "requires_gas_btu": true
    },
    "DSH_3to6": {
      "series_prefix": "DSH",
      "type": "Heat Pump \u2014 Standard (3\u20136T)",
      "defaults": {
        "p2": "S",
        "p3": "H"
      },
      "capacity_allowed": [
        "036",
        "048",
        "060",
        "072"
      ],
      "controls_allowed": [
        "A",
        "B"
      ]
    },
    "DSH_7p5to10": {
      "series_prefix": "DSH",
      "type": "Heat Pump \u2014 Standard (7.5\u201310T)",
      "defaults": {
        "p2": "S",
        "p3": "H"
      },
      "capacity_allowed": [
        "090",
        "102",
        "120"
      ],
      "controls_allowed": [
        "A",
        "B"
      ]
    },
    "DHH": {
      "series_prefix": "DHH",
      "type": "Heat Pump \u2014 High (3\u20136T)",
      "defaults": {
        "p2": "H",
        "p3": "H"
      },
      "capacity_allowed": [
        "036",
        "048",
        "060",
        "072"
      ],
      "controls_allowed": [
        "A",
        "C"
      ]
    }
  },
  "fallback_logic": {
    "overview": "When exact matches are not available from direct model lookup or provided specs, choose the closest available size (tons or BTU). Then define the 'size ladder' as one size smaller and one size larger relative to that chosen direct match.",
    "capacity": {
      "units": "tons",
      "codes_to_tons": {
        "036": 3.0,
        "048": 4.0,
        "060": 5.0,
        "072": 6.0,
        "090": 7.5,
        "102": 8.5,
        "120": 10.0,
        "150": 12.5,
        "180": 15.0,
        "240": 20.0,
        "300": 25.0
      },
      "selection_strategy": "nearest",
      "tie_breaker": "round_half_up_to_higher",
      "bounds_strategy": "clip_to_min_max",
      "family_ranges": {
        "DSC": [
          "036",
          "048",
          "060",
          "072",
          "090",
          "102",
          "120",
          "150",
          "180",
          "240",
          "300"
        ],
        "DHC": [
          "036",
          "048",
          "060",
          "072",
          "090",
          "102",
          "120",
          "150",
          "180",
          "240",
          "300"
        ],
        "DSG": [
          "036",
          "048",
          "060",
          "072",
          "090",
          "102",
          "120",
          "150",
          "180",
          "240",
          "300"
        ],
        "DHG": [
          "036",
          "048",
          "060",
          "072",
          "090",
          "102",
          "120",
          "150",
          "180",
          "240",
          "300"
        ],
        "DSH_3to6": [
          "036",
          "048",
          "060",
          "072"
        ],
        "DSH_7p5to10": [
          "090",
          "102",
          "120"
        ],
        "DHH": [
          "036",
          "048",
          "060",
          "072"
        ]
      },
      "example": {
        "input_tons": 9.0,
        "chosen_direct_match": {
          "code": "102",
          "tons": 8.5
        },
        "size_smaller": {
          "code": "090",
          "tons": 7.5
        },
        "size_larger": {
          "code": "120",
          "tons": 10.0
        }
      }
    },
    "gas_btu": {
      "units": "BTU/h input",
      "codes_to_btu": {
        "045": 45000,
        "060": 60000,
        "070": 70000,
        "080": 80000,
        "090": 90000,
        "100": 100000,
        "115": 115000,
        "125": 125000,
        "130": 130000,
        "140": 140000,
        "150": 150000,
        "180": 180000,
        "210": 210000,
        "225": 225000,
        "240": 240000,
        "260": 260000,
        "350": 350000,
        "360": 360000,
        "400": 400000,
        "480": 480000
      },
      "selection_strategy": "nearest",
      "tie_breaker": "round_half_up_to_higher",
      "bounds_strategy": "clip_to_min_max",
      "example": {
        "input_btu": 160000,
        "chosen_direct_match": {
          "code": "150",
          "btu": 150000
        },
        "size_smaller": {
          "code": "140",
          "btu": 140000
        },
        "size_larger": {
          "code": "180",
          "btu": 180000
        }
      }
    },
    "electric_heat_kw": {
      "units": "kW",
      "codes_to_kw": {
        "005": 5,
        "010": 10,
        "015": 15,
        "020": 20,
        "030": 30,
        "045": 45,
        "060": 60,
        "075": 75,
        "S05": 5,
        "S10": 10,
        "S15": 15,
        "S16": 15,
        "S18": 18,
        "S20": 20,
        "S21": 20,
        "S22": 20,
        "S25": 25,
        "S30": 30,
        "S31": 30,
        "S45": 45,
        "S46": 45,
        "S60": 60,
        "S75": 75
      },
      "prefer_plain_kw_over_scr_when_equal_kw": true,
      "selection_strategy": "nearest",
      "tie_breaker": "round_half_up_to_higher",
      "bounds_strategy": "clip_to_min_max",
      "example": {
        "input_kw": 28,
        "chosen_direct_match": {
          "code": "030",
          "kw": 30
        },
        "size_smaller": {
          "code": "S25",
          "kw": 25
        },
        "size_larger": {
          "code": "S31",
          "kw": 30
        }
      }
    },
    "implementation_notes": [
      "Nearest = minimize absolute difference between input and available values within the applicable family range (for capacities) or entire table (for BTU/kW).",
      "If exactly between two values, use tie_breaker policy (round_half_up_to_higher selects the higher).",
      "After selecting the direct match, the 'size ladder' is the immediate neighbor below and above within the same allowed list. If no lower (or higher) value exists, repeat the boundary value for that direction."
    ]
  },
  "ui_suggestions": {
    "order": [
      "family",
      "capacity",
      "voltage",
      "fan_drive",
      "heat_field",
      "controls",
      "refrig_sys",
      "heat_exchanger",
      "options_tail"
    ],
    "show_capacity_tons": true,
    "auto_fill": {
      "non_gas_units_p14": "X",
      "no_electric_heat_default": "XXX"
    }
  },
  "validation": {
    "rules": [
      "If p3='G', require gas_btu code at p9_p11",
      "If p3 in {'C','H'}, p9_p11 must be 'XXX', a 3-digit kW code, or an SCR code (e.g., 'S30')",
      "p15 is two characters; p16..p24 are single characters; overall tail length is 10",
      "Capacity must be in the selected family's capacity_allowed list",
      "Controls must be in the selected family's controls_allowed list"
    ]
  },
  "build_examples": [
    {
      "label": "Straight A/C \u2014 8.5T High Eff (DHC)",
      "family": "DHC",
      "spec": {
        "capacity": "102",
        "voltage": "4",
        "fan": "D",
        "electric_heat": "XXX",
        "controls": "C",
        "refrig": "A",
        "hx": "X",
        "tail": "AXADXXXXXXX"
      },
      "model_example": "DHC1024DXXXCAXAXADXXXXXXX"
    },
    {
      "label": "Heat Pump \u2014 8.5T Std (DSH 7.5\u201310)",
      "family": "DSH_7p5to10",
      "spec": {
        "capacity": "102",
        "voltage": "4",
        "fan": "L",
        "electric_heat": "030",
        "controls": "B",
        "refrig": "C",
        "hx": "X",
        "tail": "CXAXXXXXXXX"
      },
      "model_example": "DSH1024L030BCXAXXXXXXXX"
    },
    {
      "label": "Gas/Electric \u2014 8.5T High Eff (DHG)",
      "family": "DHG",
      "spec": {
        "capacity": "102",
        "voltage": "4",
        "fan": "L",
        "gas_btu": "150",
        "controls": "C",
        "refrig": "C",
        "hx": "S",
        "tail": "EXCXGXXXXXX"
      },
      "model_example": "DHG1024L150CCSEXCXGXXXXXX"
    }
  ]
}